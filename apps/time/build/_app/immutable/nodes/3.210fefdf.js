import{i as S,r as T,a as w,g as d,N as E,b as M,c as N}from"../chunks/NavBar.74c12207.js";import{S as V,i as z,s as P,a as p,k as j,y as _,N as q,h as m,c as g,l as A,m as B,z as h,n as D,b as f,A as v,g as b,d as C,B as $,o as O}from"../chunks/index.cffe94cb.js";import"../chunks/stores.a3126324.js";import{C as F}from"../chunks/CourseCardDeck.545ddbef.js";const K=async({params:l})=>(S(d().firebase),{allCourses:(await T(d().firebase)).filter(t=>w(t))}),R=Object.freeze(Object.defineProperty({__proto__:null,load:K},Symbol.toStringTag,{value:"Module"}));function G(l){let i,a,t,n,r,c;return t=new E({props:{title:"Tutors Module Ecosystem",subTitle:l[1],modules:l[2],visits:l[3]}}),r=new F({props:{los:l[0]}}),{c(){i=p(),a=j("div"),_(t.$$.fragment),n=p(),_(r.$$.fragment),this.h()},l(e){q("svelte-1qr4vd5",document.head).forEach(m),i=g(e),a=A(e,"DIV",{class:!0});var o=B(a);h(t.$$.fragment,o),o.forEach(m),n=g(e),h(r.$$.fragment,e),this.h()},h(){document.title="Tutors Modules",D(a,"class","sticky top-0 z-40 mb-5")},m(e,s){f(e,i,s),f(e,a,s),v(t,a,null),f(e,n,s),v(r,e,s),c=!0},p(e,[s]){const o={};s&2&&(o.subTitle=e[1]),s&4&&(o.modules=e[2]),s&8&&(o.visits=e[3]),t.$set(o);const u={};s&1&&(u.los=e[0]),r.$set(u)},i(e){c||(b(t.$$.fragment,e),b(r.$$.fragment,e),c=!0)},o(e){C(t.$$.fragment,e),C(r.$$.fragment,e),c=!1},d(e){e&&m(i),e&&m(a),$(t),e&&m(n),$(r,e)}}}function H(l,i,a){let{data:t}=i,n=[],r="",c=0,e=0;return O(async()=>{t.allCourses&&t.allCourses.forEach(async s=>{try{const o=await M(s);if(o){a(3,e+=o);const u=await N(s);u.isPrivate||(a(2,c++,c),a(1,r=`${u.title}`),n.push(u),a(0,n=[...n]),n.sort((y,k)=>y.title.localeCompare(k.title)))}}catch(o){console.log(`invalid course ${s} : ${o.message}`)}})}),l.$$set=s=>{"data"in s&&a(4,t=s.data)},[n,r,c,e,t]}class U extends V{constructor(i){super(),z(this,i,H,G,P,{data:4})}}export{U as component,R as universal};
